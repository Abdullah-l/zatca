describe ZATCA::QRCodeGenerator do
  let(:generator) { ZATCA::QRCodeGenerator.new(ZATCA::Tags.new(FIXTURES_TAGS)) }

  describe "#render" do
    it "returns a base64 data_url" do
      rendered_code = generator.render
      expected_rendered_code = "data:image/png;base64,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"

      expect(rendered_code).to eq(expected_rendered_code)
    end
  end
end
